$(function(){function tShow(a){$(".tt input").each(function(){var a=$(this).attr("placeholder");a&&$(this).placeholder()});var b=$("#date").val();$(a).find("input[type=text]").val("").removeClass("err").removeClass("right"),$(this).find("input[type=file]").val("").removeClass("err").removeClass("right"),$(this).find("input[type=password]").val("").removeClass("err").removeClass("right"),$(this).find("input[type=hidden]").val(""),$("http://www.ziroom.com/static/2016/js/span.succ").hide(),$("http://www.ziroom.com/static/2016/js/span.fail").hide(),$("#date").val(b),$(a).show(),$("body").addClass("hidden"),countModalHeight()}function check_phone(a){var b=$.trim(a.val()),c=/(^1[3|4|5|7|8][0-9]{9}$)/;return""==b?(a.removeClass("right"),a.addClass("err"),!1):c.test(b)?(a.removeClass("err"),a.addClass("right"),!0):(a.removeClass("right"),a.addClass("err"),!1)}function check_email(){var a=$.trim($("#email").val()),b=/([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)/;return""==a?($("#email").removeClass("right"),$("#email").addClass("err"),!1):b.test(a)?($("#email").removeClass("err"),$("#email").addClass("right"),!0):($("#email").removeClass("right"),$("#email").addClass("err"),!1)}function check_http(){var a=$.trim($("#company_web").val()),b=/([a-zA-z]+\:\/\/)?[^\s]*$/;return""==a?($("#hcompany_web").removeClass("right"),$("#company_web").addClass("err"),!1):b.test(a)?($("#company_web").removeClass("err"),$("#company_web").addClass("right"),!0):($("#hcompany_web").removeClass("right"),$("#company_web").addClass("err"),!1)}function countModalHeight(){$(".tt .box").each(function(){if($(this).is(":visible")){var a=($(window).height()-$(this).outerHeight())/2;a=0>a?0:a,$(this).css({"margin-top":a+"px"})}})}function placeh(){$(".tt input").each(function(){var a=$(this).attr("placeholder");a&&$(this).placeholder()})}function guolv(a){var b=/['")><&\\\/\.]/;b.test(a.val())&&(alert("输入内容含非法字符，请重新输入"),a.val(""))}!function(){var a=$("#current_city").html();switch(a){case"北京":$("#select-didian").removeClass("shbox").removeClass("szbox").addClass("bjbox");break;case"上海":$("#select-didian").removeClass("bjbox").removeClass("szbox").addClass("shbox");break;case"深圳":$("#select-didian").removeClass("bjbox").removeClass("shbox").addClass("szbox");break;case"杭州":$("#select-didian").removeClass("bjbox").removeClass("shbox").removeClass("szbox").addClass("hzbox")}}(),$.getScript("http://contentful.ziroom.com/online/zuzhu/www/d709f38ef758b5066ef31b18039b8ce5.js?"+(new Date).getTime(),function(data){var bannerArr,_html,_htmlHd;data="",data="undefined"==typeof JSON?eval("("+js370+")"):JSON.parse(js370),bannerArr=data.bannerList,_html="",_htmlHd="",$.each(bannerArr,function(a,b){var c=b.target||"javascript:;";""!=b.img&&(_html+='<li><a href="'+c+'" target="_blank">'+'<img alt="'+b.title+'" src="'+b.img+'">'+"</a>"+"</li>",_htmlHd+='<li class=""></li>')}),$(".slideBox .bd ul").html(_html),$(".slideBox .hd ul").html(_htmlHd),setTimeout(function(){$(".slideBox").slide({mainCell:".bd ul",autoPlay:"true"}),$(".slideBox .bd li").css("width",$(window).width()+"px"),$(window).resize(function(){$(".slideBox .bd li").css("width",$(window).width()+"px"),countModalHeight()}),$(".slideBox .hd li").eq(0).addClass("on")},50)}),$(".slideBox").slide({mainCell:".bd ul",autoPlay:"true"}),$(".slideBox .bd li").css("width",$(window).width()+"px"),$(window).resize(function(){$(".slideBox .bd li").css("width",$(window).width()+"px"),countModalHeight()}),function(){var a=0;$(".bj .tab .name a").mouseenter(function(){a=$(this).index(),$(".bj .tab .name a").removeClass("on"),$(this).addClass("on"),$(".bj .tab .pic li").removeClass("on"),$(".bj .tab .pic li").eq(a).addClass("on")}),$(".bj .pprev").click(function(){a--,0>a&&(a=1),$(".bj .tab .name a").removeClass("on"),$(".bj .tab .name a").eq(a).addClass("on"),$(".bj .tab .pic li").removeClass("on"),$(".bj .tab .pic li").eq(a).addClass("on")}),$(".bj .pnext").click(function(){a++,a>1&&(a=0),$(".bj .tab .name a").removeClass("on"),$(".bj .tab .name a").eq(a).addClass("on"),$(".bj .tab .pic li").removeClass("on"),$(".bj .tab .pic li").eq(a).addClass("on")})}(),function(){var a=0;$(".sh .tab .name a").mouseenter(function(){a=$(this).index(),$(".sh .tab .name a").removeClass("on"),$(this).addClass("on"),$(".sh .tab .pic li").removeClass("on"),$(".sh .tab .pic li").eq(a).addClass("on")}),$(".sh .pprev").click(function(){a--,0>a&&(a=1),$(".sh .tab .name a").removeClass("on"),$(".sh .tab .name a").eq(a).addClass("on"),$(".sh .tab .pic li").removeClass("on"),$(".sh .tab .pic li").eq(a).addClass("on")}),$(".sh .pnext").click(function(){a++,a>1&&(a=0),$(".sh .tab .name a").removeClass("on"),$(".sh .tab .name a").eq(a).addClass("on"),$(".sh .tab .pic li").removeClass("on"),$(".sh .tab .pic li").eq(a).addClass("on")})}(),$(".r_close").click(function(){$(this).hide(),$(this).parent().find(".r_open").show()}),$(".r_open").click(function(){$(this).hide(),$(this).parent().find(".r_close").show()}),$(".t-news .cont li").live("click",function(){var a=$(this).find(".detail").css("display");"none"==a?($(".t-news .cont li").css("border-bottom","1px solid #e8e8e8"),$(this).css("border-bottom","0 none"),$(".t-news .cont .detail").hide(),$(this).find(".detail").show()):"block"==a&&($(this).css("border-bottom","1px solid #e8e8e8"),$(this).find(".detail").hide())});var oType=$("#type");$("#active").click(function(){tShow(".t-active")}),$("#active_login").click(function(){tShow("#modal"),tShow("#logins")}),$("#join").click(function(){$("#company_people").val(""),tShow(".t-join")}),$(".news .more").click(function(){tShow(".t-news")}),$(".partner .add").click(function(){tShow(".t-join")}),$(".tt .close").click(function(){$(this).parent().parent().hide(),$("body").removeClass("hidden")}),$(".t-repeat .btn").click(function(){$(".t-repeat").hide(),$("body").removeClass("hidden")}),$(".t-success .btn").click(function(){$(".t-success").hide(),$("body").removeClass("hidden")}),$(".t-jhsuccess .btn").click(function(){$(".t-jhsuccess").hide(),$("body").removeClass("hidden")}),function(a){a(window).load(function(){a("#company .content").mCustomScrollbar()})}(jQuery),$("#w_captcha").blur(function(){guolv($(this));var a=$.trim($("#w_captcha").val());return""==a?($("#w_captcha").removeClass("right"),$("#w_captcha").addClass("err"),!1):void 0}),$("#company").click(function(){var a=$("#company .company").css("display");return"none"==a?($("#company .company").show(),!1):"block"==a?($("#company .company").hide(),!1):void 0}),$("#company .company dd").click(function(){var a=$(this).html(),b=$(this).attr("data-id");return $("#t_myCompanyIpt").val(a),$("#t_myCompanyIpt").attr("data-id",b),$("#company .company").hide(),!1}),$(".t-active .box").click(function(){$("#company .company").hide()}),$("#file").change(function(){var a,b;$(".t-active span.succ").hide(),$(".t-active span.fail").hide(),a=$("#file").val(),b=a.substring(a.lastIndexOf("\\")+1),$(".t-active .file").val(b),$(".t-active span.fail p").html("图片上传失败"),/\.(jpg|jpeg|png|JPG|PNG)$/.test(a)||($(".t-active span.succ").hide(),$(".t-active span.fail p").html("请上传图片格式"),$(".t-active span.fail").show())}),$("#ljjh_btn").click(function(){var a=$.trim($("#w_captcha").val()),b=$.trim($("#t_myCompanyIpt").attr("data-id")),c=$.trim($("#date").val()),d=$.trim($(".file").val());return""==a?($("#w_captcha").removeClass("right"),$("#w_captcha").addClass("err"),!1):0==b||""==b?($("#company input").val("请选择公司名称"),!1):""==c?($("#date").val("填写预计入住时间"),!1):""==d?($(".t-active span.succ").hide(),$(".t-active span.fail p").html("请上传证件照"),$(".t-active span.fail").show(),!1):void 0}),$("#company_name").blur(function(){guolv($(this));var a=$.trim($("#company_name").val());""==a?($("#company_name").removeClass("right"),$("#company_name").addClass("err")):($("#company_name").removeClass("err"),$("#company_name").addClass("right"))}),$("#number").click(function(){var a=$("#number .num").css("display");return"none"==a?($("#number .num").show(),!1):"block"==a?($("#number .num").hide(),!1):void 0}),$("#number .num li").click(function(){var a=$(this).html();switch($("#number input").val(a),$("#number .num").hide(),a){case"100人以下":$("#company_people").val(0);break;case"100-500人":$("#company_people").val(1);break;case"500-1000人":$("#company_people").val(2);break;case"1000人以上":$("#company_people").val(3)}return!1}),$(".t-join .box").click(function(){$("#number .num").hide()}),$("#company_people").blur(function(){var a=$.trim($("#company_people").val());""==a?($("#company_people").removeClass("right"),$("#company_people").addClass("err")):($("#company_people").removeClass("err"),$("#company_people").addClass("right"))}),$("#company_web").blur(function(){check_http()}),$("#user_name_new").blur(function(){guolv($(this));var a=$.trim($("#user_name_new").val());""==a?($("#user_name_new").removeClass("right"),$("#user_name_new").addClass("err")):($("#user_name_new").removeClass("err"),$("#user_name_new").addClass("right"))}),$("#department").blur(function(){guolv($(this));var a=$.trim($("#department").val());""==a?($("#department").removeClass("right"),$("#department").addClass("err")):($("#department").removeClass("err"),$("#department").addClass("right"))}),$("#tel").blur(function(){guolv($(this)),check_phone($("#tel"))}),$("#email").blur(function(){check_email()}),$("#t_submitbtn").click(function(){var d,e,a=$.trim($("#company_name").val()),b=$.trim($("#company_people").val());return $.trim($("#company_web").val()),d=$.trim($("#user_name_new").val()),e=$.trim($("#department").val()),$.trim($("#tel").val()),$.trim($("#email").val()),""==a?($("#company_name").removeClass("right"),$("#company_name").addClass("err"),!1):""==b?($("#number input[type=text]").val("请选择公司规模"),!1):check_http()?""==d?($("#user_name_new").removeClass("right"),$("#user_name_new").addClass("err"),!1):""==e?($("#department").removeClass("right"),$("#department").addClass("err"),!1):check_phone($("#tel"))?check_email()?void 0:($("#email").removeClass("right"),$("#email").addClass("err"),!1):($("#tel").removeClass("right"),$("#tel").addClass("err"),!1):($("#company_web").removeClass("right"),$("#company_web").addClass("err"),!1)}),placeh()});